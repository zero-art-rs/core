# Nostr : Огляд протоколу

Nostr - це протокол, що дозволяє спілкуватися у веб децентралізовано і з деякою стійкістю до цензурування.
Основна ідея Nostr це мережа великої кількості релеїв, що можуть приймати повідомлення, деякий час зберігати його і поширювати його іншим в мережі. Мережа є гнучкою, оскільки ви можете як приєднуватися до нових релеїв, так і від'єднуватися від старих. Окрім цього, є можливість створити власний релей у цій мережі. Також, протокол підтримує підхід асиметричної криптографії, тобто кожен користувач має пару ключів (публ.: npubxxx; прив.: nsecxxx) і може підписувати повідомлення. Формально, для створення акаунта, достатньо просто згенерувати деяку пару ключів і придумати нік. 

Наразі існує велика екосистема додатків, побудованих над протоколом Nostr. Основна проблема полягає у тому, що навіть сама архітектура має децентралізований вигляд, що вимагає окремого підключення до кожного додатку. З іншого боку, усі вони синхронізуються до вашого аккаунта, що ви можете створити на початку в одному із додатків і надалі використовувати у інших. 

З плюсів: 
+ ✅ Можна назвати як один з найбільш децентралізованих підходів, оскільки є велика мережа релеїв, що дозволяє досягти достатньої стійкості для цензурування
+ ✅ Підтримка створення чатів, груп, а також твітів (формально можна представити як канал).
+ ✅ Не вимагає прив'язки до особистих даних 
+ ✅ Можна створити власний релей
+ ✅ Широкий спектр додатків
Однак є і мінуси:
+ ❌ Екосистема побудована досить не UF, оскільки вимагає часу, щоб розібратися 
+ ❌Якщо втратити nsec, то вже не можна відновити доступ до аккаунта, оскільки пароль не можна змінити (він є унікальним для аккаунта, що є відповідним публічним ключем). Окрім цього, виникає проблема, коли хтось може заволодіти твоїм ключем
+ ❌ Криптографія є доволі слабкою, немає підтримки FS та BS ([зазначається](https://github.com/nostr-protocol/nips/blob/master/44.md), що архітектура релеїв є доволі складною і навряд зможе підтримати дані властивості за наявних методів); окрім цього, вони використовують ChaCha20 для швидшої роботи

Nostr є цікавим додатком, що дозволяє організувати децентралізовану мережу для нас. 
Окремо виділимо маршрутизацію Nostr, що виглядає досить просто, однак є по своєму ефективна. У мережі релеї не спілкуються між собою напряму, тобто вони утворюють уявні паралельні мости між користувачами. Таким чином, користувач *А* може обрати довільні релеї, через які він хоче поширювати свої повідомлення (може бути довільна кількість) і, відповідно, транслює на усі його релеї своє повідомлення. Користувач *B*, що під'єднаний принаймні до одного релея, що транслює повідомлення користувача *A*, зможе отримати повідомлення. Однак, чим більше шляхів через різні релеї матимуть *A* та *B*, тим більша ймовірність того, що у випадку цензурування релеєм або відключення його від мережі, спілкування збереже цілісність. 

![Nostr scheme](/schemes/nostr_scheme.png)

З однієї сторони, така схема може погіршити обмін повідомлення, оскільки при втраті останнього спільного релея, *A* та *B* не зможуть взаємодіяти між собою. З іншого боку, у деяких додатках, такі як Damus, існує деяка реалізація, коли можна встановити функцію, щоб релеї пересилали повідомлення іншим вашим релеям повторно. Окрім цього, справедливо відмітити, що невзаємодіючі релеї не можуть обмінюватися політиками та списками заблокованих людей, що дозволяє уникнути цензурування.

Також, перед нами відкривається більший широкий спектр можливостей (реалізація груп, каналів...). Однак, є насправді багато цікавих питань, які нас турбують при подальшому використанні протоколу:
  ❔ Чи зможе запропонована схема шифрування ефективно працювати з мережею ?
    Формально, важко передбачити, як поводитиметься мережа з новим підходом шифруванням. Проте, ми не покладаємося на релеї як на точки, що повинні шифрувати повідомлення. Якщо вважати їх як службу доставки, то це не має ускладнити загальну схему. 
  ❔ Чи є можливість зробити більш анонімною/приватною мережу?
	За замовчуванням релеї бачать вашу IP-адресу і всі посередники між релеєм і вами. Відповідно, усі шифротексти можна прослідкувати.  Скоріше за все, варто було б зробити деяку систему, схожу до Signal group, де використовувалися credentials.

Окрім цього постає питання, постає питання, чи зможуть користувачі груп нормально синхронізуватися, особливо враховуючи послідовну структуру оновлення ключів (Triple Ratchet). Теоретично, стабільна робота можлива, враховуючи, що мережа має багато релеїв.